/merchant/search:
  post:
    summary: search <code>Merchant</code>s
    tags:
      - Seller Supporting Node (SSN)
    description: The <code>BSN</code> broadcasts the customer's request for merchants offering products or services
    requestBody:
      content:
        application/json:
          schema:
            $ref: './SearchMerchant.yaml'
    parameters:
      - in: query
        name: page
        schema:
          type: integer
          minimum: 1
        description: The page number for pagination (optional)
      - in: query
        name: perPage
        schema:
          type: integer
          minimum: 1
          maximum: 100
        description: The number of items per page (optional)
    responses:
      '200':
        description: A catalog of merchants represented by the <code>Seller Supporting Node (SSN)</code>
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: array
                  description: an array of merchants from the Seller Supporting Node (SSN)
                  items:
                    $ref: '../schema/merchant/Merchant.yaml'
                pagination:
                  $ref: '../schema/shared/primitives/api/Pagination.yaml'
                terms: 
                  $ref: '../schema/shared/primitives/api/Terms.yaml'
      404:
        description: No data found for the provided value
        content:
          application/json:
            schema:
              $ref: '../schema/shared/primitives/api/Error.yaml'
      500:
        description: Unexpected error
        content:
          application/json:
            schema:
              $ref: '../schema/shared/primitives/api/Error.yaml'
/merchant/{merchant_id}:
    parameters:
      - name: merchant_id
        description: A unique identifier for the merchant. Can be one of the following unique identifiers for a merchant -
          <ul>
            <li><code>id</code></li>
            <li><code>slug</code></li>
          </ul>
        in: path
        required: true
        schema:
          oneOf:
            - $ref: '../schema/merchant/Merchant.yaml#/properties/id' 
            - $ref: '../schema/merchant/Merchant.yaml#/properties/slug'
    get:
      summary: get a merchant
      responses:
        '200':
          description: A single merchant represented by the <code>Seller Supporting Node (SSN)</code>
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '../schema/merchant/Merchant.yaml'
                  terms: 
                    $ref: '../schema/shared/primitives/api/Terms.yaml'
        404:
          description: No data found for the provided value
          content:
            application/json:
              schema:
                $ref: '../schema/shared/primitives/api/Error.yaml'
        500:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '../schema/shared/primitives/api/Error.yaml'
/catalog/{merchant_id}/search:
  post:
    summary: search a catalog
    tags:
      - Seller Supporting Node (SSN)
    description: The <code>BSN</code> broadcasts the customer's request for a catalog offering specific products or services
    requestBody:
      content:
        application/json:
          schema:
            $ref: './SearchCatalog.yaml'
    parameters:
    - name: merchant_id
      description: A unique identifier for the merchant. Can be one of the following unique identifiers for a merchant -
        <ul>
          <li><code>id</code></li>
          <li><code>slug</code></li>
        </ul>
      in: path
      required: true
      schema:
        oneOf:
          - $ref: '../schema/merchant/Merchant.yaml#/properties/id'
          - $ref: '../schema/merchant/Merchant.yaml#/properties/slug' 
    responses:
      '200':
        description: A catalog of merchants represented by the <code>Seller Supporting Node (SSN)</code>
        content:
          application/json:
            schema:
              type: object
              description: The catalog data for the merchant
              properties: 
                catalogs:
                  type: array
                  items:
                    $ref: '../schema/catalog/Catalog.yaml'
                categories:
                    type: array
                    items:
                      $ref: '../schema/catalog/CatalogCategory.yaml'
                modifier_groups:
                    type: array
                    items:
                      $ref: '../schema/catalog/CatalogModifierGroup.yaml'
                items:
                    type: array
                    items:
                      $ref: '../schema/catalog/CatalogItem.yaml'
                modifier_items:
                    type: array
                    items:
                      $ref: '../schema/catalog/CatalogItemModifier.yaml'
      404:
        description: No data found for the provided value
        content:
          application/json:
            schema:
              $ref: '../schema/shared/primitives/api/Error.yaml'
      500:
        description: Unexpected error
        content:
          application/json:
            schema:
              $ref: '../schema/shared/primitives/api/Error.yaml'
/item/{item_id}/modifiers:
    parameters:
      - name: item_id
        description: A unique identifier for the item.
        in: path
        required: true
        schema:
          type: string
    get:
      summary: get item modifiers
      responses:
        '200':
          description: A single merchant represented by the <code>Seller Supporting Node (SSN)</code>
          content:
            application/json:
              schema:
                type: object
                description: The catalog data for the merchant
                properties: 
                  item:
                    description: The <code>CatalogItem</code> affiliated with the <code>item_id</code> parameter in the path parameter.
                    $ref: '../schema/catalog/CatalogItem.yaml'
                  modifier_groups:
                      type: array
                      items:
                        $ref: '../schema/catalog/CatalogModifierGroup.yaml'
                  modifier_items:
                      type: array
                      items:
                        $ref: '../schema/catalog/CatalogItemModifier.yaml'
        404:
          description: No data found for the provided value
          content:
            application/json:
              schema:
                $ref: '../schema/shared/primitives/api/Error.yaml'
        500:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '../schema/shared/primitives/api/Error.yaml'
